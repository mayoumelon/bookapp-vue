{"remainingRequest":"/usr/src/app/bookapp/node_modules/babel-loader/lib/index.js!/usr/src/app/bookapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/src/app/bookapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/src/app/bookapp/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/src/app/bookapp/src/App.vue","mtime":1617842696080},{"path":"/usr/src/app/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/bookapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/usr/src/app/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/bookapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgSGVhZGVyIGZyb20gJ0AvZ2xvYmFsL0hlYWRlcic7CmltcG9ydCBGb290ZXIgZnJvbSAnQC9nbG9iYWwvRm9vdGVyJzsKdmFyIFNUT1JBR0VfS0VZID0gJ2Jvb2tzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29rczogW10sCiAgICAgIG5ld0Jvb2s6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKSkgewogICAgICB0cnkgewogICAgICAgIHRoaXMuYm9va3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX0tFWSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEJvb2s6IGZ1bmN0aW9uIGFkZEJvb2soZSkgewogICAgICB0aGlzLmJvb2tzLnB1c2goewogICAgICAgIGlkOiB0aGlzLmJvb2tzLmxlbmd0aCwKICAgICAgICB0aXRsZTogZS50aXRsZSwKICAgICAgICBpbWFnZTogZS5pbWFnZSwKICAgICAgICBkZXNjcmlwdGlvbjogZS5kZXNjcmlwdGlvbiwKICAgICAgICByZWFkRGF0ZTogJycsCiAgICAgICAgbWVtbzogJycKICAgICAgfSk7IC8vIHRoaXMubmV3Qm9vayA9ICcnOwoKICAgICAgdGhpcy5zYXZlQm9va3MoKTsgLy8g5pyA5b6M44Gr6L+95Yqg44GX44GfaWTjga7lj5blvpfjgrPjg7zjg4kKICAgICAgLy8gY29uc29sZS5sb2coJ+acgOW+jOOBrklEOiAnICsgdGhpcy5ib29rcy5zbGljZSgtMSlbMF0uaWQpCgogICAgICB0aGlzLmdvVG9FZGl0UGFnZSh0aGlzLmJvb2tzLnNsaWNlKC0xKVswXS5pZCk7CiAgICB9LAogICAgcmVtb3ZlQm9vazogZnVuY3Rpb24gcmVtb3ZlQm9vayh4KSB7CiAgICAgIHRoaXMuYm9va3Muc3BsaWNlKHgsIDEpOwogICAgICB0aGlzLnNhdmVCb29rcygpOwogICAgfSwKICAgIHNhdmVCb29rczogZnVuY3Rpb24gc2F2ZUJvb2tzKCkgewogICAgICB2YXIgcGFyc2VkID0gSlNPTi5zdHJpbmdpZnkodGhpcy5ib29rcyk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBwYXJzZWQpOwogICAgfSwKICAgIHVwZGF0ZUJvb2tJbmZvOiBmdW5jdGlvbiB1cGRhdGVCb29rSW5mbyhlKSB7CiAgICAgIHZhciB1cGRhdGVJbmZvID0gewogICAgICAgIGlkOiBlLmlkLAogICAgICAgIHJlYWREYXRlOiBlLnJlYWREYXRlLAogICAgICAgIG1lbW86IGUubWVtbywKICAgICAgICB0aXRsZTogdGhpcy5ib29rc1tlLmlkXS50aXRsZSwKICAgICAgICBpbWFnZTogdGhpcy5ib29rc1tlLmlkXS5pbWFnZSwKICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5ib29rc1tlLmlkXS5kZXNjcmlwdGlvbgogICAgICB9OyAvLyBib29rc+mFjeWIl+OCkuabtOaWsAoKICAgICAgdGhpcy5ib29rcy5zcGxpY2UoZS5pZCwgMSwgdXBkYXRlSW5mbyk7IC8vIExvY2FsU3RvcmFnZeOBuAoKICAgICAgdGhpcy5zYXZlQm9va3MoKTsgLy8g44OI44OD44OX44G4CgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfSwKICAgIGdvVG9FZGl0UGFnZTogZnVuY3Rpb24gZ29Ub0VkaXRQYWdlKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvZWRpdC8iLmNvbmNhdChpZCkpOwogICAgfSwKICAgIGRlbGV0ZUxvY2FsU3RvcmFnZTogZnVuY3Rpb24gZGVsZXRlTG9jYWxTdG9yYWdlKCkgewogICAgICB2YXIgaXNEZWxldGVkID0gJ0xvY2FsU3RvcmFnZeOBruODh+ODvOOCv+OCkuWJiumZpOOBl+OBpuOCguOBhOOBhOOBp+OBmeOBi++8nyc7CgogICAgICBpZiAod2luZG93LmNvbmZpcm0oaXNEZWxldGVkKSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCAnJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVkpOwogICAgICAgIHRoaXMuYm9va3MgPSBbXTsKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <Header\n    @delete-local-storage=\"deleteLocalStorage\" \n    />\n    <v-main>\n      <v-container>\n        <router-view \n        :books=\"books\" \n        @add-book-list=\"addBook\" \n        @update-book-info=\"updateBookInfo\" />\n  </v-app>\n</template>\n\n<script>\nimport Header from '@/global/Header';\nimport Footer from '@/global/Footer';\nconst STORAGE_KEY = 'books'\n\nexport default {\n  name: 'App',\n\n  components: {\n    Header,\n    Footer\n  },\n\n  data(){\n    return {\n      books: [],\n      newBook: null\n    }\n  },\n  mounted() {\n    if (localStorage.getItem(STORAGE_KEY)) {\n      try {\n        this.books = JSON.parse(localStorage.getItem(STORAGE_KEY));\n      } catch(e) {\n        localStorage.removeItem(STORAGE_KEY);\n      }\n    }\n  },\n  methods: {\n    addBook(e) {\n      this.books.push({\n        id: this.books.length,\n        title: e.title,\n        image: e.image,\n        description: e.description,\n        readDate: '',\n        memo: ''\n      });\n      // this.newBook = '';\n      this.saveBooks();\n      // 最後に追加したidの取得コード\n      // console.log('最後のID: ' + this.books.slice(-1)[0].id)\n      this.goToEditPage(this.books.slice(-1)[0].id)\n    },\n    removeBook(x) {\n      this.books.splice(x, 1);\n      this.saveBooks();\n    },\n    saveBooks() {\n      const parsed = JSON.stringify(this.books);\n      localStorage.setItem(STORAGE_KEY, parsed);\n    },\n    updateBookInfo(e){\n      const updateInfo = {\n        id: e.id,\n        readDate: e.readDate,\n        memo: e.memo,\n        title: this.books[e.id].title,\n        image: this.books[e.id].image,\n        description: this.books[e.id].description\n      }\n      // books配列を更新\n      this.books.splice(e.id, 1, updateInfo)\n      // LocalStorageへ\n      this.saveBooks()\n      // トップへ\n      this.$router.push('/')\n    },\n    goToEditPage(id) {\n      this.$router.push(`/edit/${id}`)\n    },\n    deleteLocalStorage(){\n      const isDeleted = 'LocalStorageのデータを削除してもいいですか？'\n      if(window.confirm(isDeleted)){\n        localStorage.setItem(STORAGE_KEY, '')\n        localStorage.removeItem(STORAGE_KEY)\n        this.books = []\n        window.location.reload()\n      }\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src"}]}